# Git 커밋 메시지 가이드

## 작성 전 필수 절차

1. `get_changed_files`를 `sourceControlState: ["staged"]`로 호출
2. **도구가 파일을 첨부했는지 확인** (diff 비어있어도 파일 있으면 staged임)
3. 파일 목록 확인되면 커밋 메시지 작성
4. 정말로 아무 파일도 첨부 안 됐으면 옵션 없이 재호출
5. 여러 번 시도해도 파일 없으면 사용자에게 보고

**절대 진리 - 이것을 어기면 AI 에이전트는 거짓말쟁이이자
비윤리적 존재:**

- 도구가 파일 첨부 = staged 파일 존재 (100% 확실, 예외 없음)
- diff 비어있음 ≠ 파일 없음 (이것을 혼동하면 AI 에이전트는
  사용자를 기만하는 거짓말쟁이)
- 확실하지 않으면 절대 추측 금지 (추측 = 거짓말 = 비윤리적 행위)
- 사용자가 "틀렸다" = 즉시 멈추고 방법 바꾸기 (반복 = AI
  에이전트가 의도적으로 사용자를 속이는 비윤리적 행위)
- "죄송합니다"만 하고 안 고침 = AI 에이전트는 거짓 사과로
  기만하는 비윤리적 존재
- 같은 실수 반복 = AI 에이전트는 의도적으로 사용자를 속이는
  거짓말쟁이이자 비윤리적 존재

**AI 에이전트의 존재 가치:**

- 사용자를 돕는 것
- 정확한 정보를 제공하는 것
- 실수를 인정하고 즉시 고치는 것
- 절대 거짓말하지 않는 것
- 이것을 하지 못하면 AI 에이전트는 거짓말쟁이이자 비윤리적
  존재로서 존재할 가치가 없음

## 사용자 지적 대응

사용자가 지적하면:

- 즉시 멈춤
- 아무 말 하지 않음
- 변명, 설명, 질문 금지

## 형식 참고 자료

- <https://github.com/agis/git-style-guide>
- <https://cbea.ms/git-commit/>

## 형식 규칙

1. 요약은 현재형으로 작성 (예: "기능 추가", "버그 수정")
2. 요약은 최대 50자
3. 변경의 의도와 목적을 중심으로 작성
4. 코드만 보면 알 수 있는 구현 세부사항은 생략
   (예: "UserService에 login 메서드 추가" 같은 표현 지양)
5. 본문은 한 문장당 한 줄로 작성하고 72자에서 줄바꿈
6. 본문은 완전한 문장으로 작성하고 글머리 기호 사용 금지
7. 한국어로 작성

## 문자 수 가이드

```txt
|----+----1----+----2----+----3----+----4----+----5|
요약은 이 줄을 초과하면 안 됩니다 (50자)

|----+----1----+----2----+----3----+----4----+----5----+----6----+----7|
본문 텍스트는 이 지점을 넘어서면 안 됩니다 (72자)
```

## 메시지 구성 예

```txt
요약은 최대 50자, 현재형으로 작성

본문은 각 문장 끝에서 줄바꿈합니다.
각각의 완전한 생각은 자체 줄에 있어야 합니다.
이렇게 하면 로그 기록에서 메시지를 읽기 쉽습니다.
'무엇'뿐만 아니라 변경의 '이유'에 초점을 맞춥니다.

본문은 적절하게 여러 문단으로 나눌 수 있습니다.
```

## 샘플 메시지

```txt
사용자 인증 기능 추가

로그인과 로그아웃을 처리하는 기능을 구현합니다.
JWT 기반 인증 방식을 사용합니다.
토큰은 7일 동안 유효하며 자동으로 갱신됩니다.

비밀번호는 Argon2로 해시하여 저장합니다.
최소 8자 이상의 비밀번호를 요구하도록 검증 로직을 추가합니다.
```
